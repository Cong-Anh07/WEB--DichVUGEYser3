<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tài Khoản Khách Hàng - Nanogeyser</title>
    <link rel="icon" href="Logo (1).png" type="image/png">
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="customer-page">
    <!-- Customer Header -->
    <header class="customer-header">
        <div class="customer-nav">
            <div class="logo">
                <img src="logo.png" alt="Nanogeyser Logo">
                <span>Nanogeyser</span>
            </div>
            <div class="customer-user">
                <a href="booking.html" class="booking-link">
                    <i class="fas fa-calendar-plus"></i>
                    Đặt Lịch Mới
                </a>
                <span>Xin chào, <strong id="customerName">Khách hàng</strong></span>
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Đăng xuất
                </button>
            </div>
        </div>
    </header>

    <div class="customer-container">
        <!-- Sidebar -->
        <aside class="customer-sidebar">
            <div class="customer-profile">
                <div class="profile-avatar">
                    <i class="fas fa-user-circle"></i>
                </div>
                <h3 id="profileName">Nguyễn Văn A</h3>
                <p id="profilePhone">0901234567</p>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li class="active">
                        <a href="#overview" data-section="overview">
                            <i class="fas fa-tachometer-alt"></i>
                            Tổng quan
                        </a>
                    </li>
                    <li>
                        <a href="#products" data-section="products">
                            <i class="fas fa-box"></i>
                            Sản phẩm của tôi
                        </a>
                    </li>
                    <li>
                        <a href="#bookings" data-section="bookings">
                            <i class="fas fa-calendar-alt"></i>
                            Lịch hẹn
                            <span class="badge" id="customerBookingCount">2</span>
                        </a>
                    </li>
                    <li>
                        <a href="#warranty" data-section="warranty">
                            <i class="fas fa-shield-alt"></i>
                            Bảo hành
                        </a>
                    </li>
                    <li>
                        <a href="#history" data-section="history">
                            <i class="fas fa-history"></i>
                            Lịch sử dịch vụ
                        </a>
                    </li>
                    <li>
                        <a href="#profile" data-section="profile">
                            <i class="fas fa-user-edit"></i>
                            Thông tin cá nhân
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="customer-main">
            <!-- Overview Section -->
            <section id="overview" class="customer-section active">
                <div class="section-header">
                    <h2>Tổng quan tài khoản</h2>
                    <div class="quick-actions">
                        <button class="btn btn-primary" onclick="quickBooking()">
                            <i class="fas fa-plus"></i>
                            Đặt lịch nhanh
                        </button>
                    </div>
                </div>
                
                <div class="overview-cards">
                    <div class="overview-card">
                        <div class="card-icon">
                            <i class="fas fa-box"></i>
                        </div>
                        <div class="card-info">
                            <h3>2</h3>
                            <p>Sản phẩm đang sử dụng</p>
                        </div>
                    </div>
                    <div class="overview-card">
                        <div class="card-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="card-info">
                            <h3>1</h3>
                            <p>Lịch hẹn sắp tới</p>
                        </div>
                    </div>
                    <div class="overview-card">
                        <div class="card-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="card-info">
                            <h3>365</h3>
                            <p>Ngày bảo hành còn lại</p>
                        </div>
                    </div>
                    <div class="overview-card">
                        <div class="card-icon">
                            <i class="fas fa-tools"></i>
                        </div>
                        <div class="card-info">
                            <h3>5</h3>
                            <p>Lần bảo dưỡng</p>
                        </div>
                    </div>
                </div>

                <div class="overview-content">
                    <div class="upcoming-appointments">
                        <h3>Lịch hẹn sắp tới</h3>
                        <div class="appointment-list">
                            <div class="appointment-item">
                                <div class="appointment-date">
                                    <span class="day">15</span>
                                    <span class="month">Th1</span>
                                </div>
                                <div class="appointment-info">
                                    <h4>Bảo dưỡng định kỳ</h4>
                                    <p>Sản phẩm: NG-Pro-2024</p>
                                    <p>Thời gian: 09:00 - 10:00</p>
                                </div>
                                <div class="appointment-status">
                                    <span class="status confirmed">Đã xác nhận</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="warranty-alerts">
                        <h3>Thông báo bảo hành</h3>
                        <div class="alert-list">
                            <div class="alert-item warning">
                                <i class="fas fa-exclamation-triangle"></i>
                                <div>
                                    <h4>Sắp hết hạn bảo hành</h4>
                                    <p>Sản phẩm NG-001234 sẽ hết hạn bảo hành vào 30/03/2024</p>
                                </div>
                            </div>
                            <div class="alert-item info">
                                <i class="fas fa-info-circle"></i>
                                <div>
                                    <h4>Nhắc nhở bảo dưỡng</h4>
                                    <p>Đã đến thời gian thay lõi lọc cho sản phẩm NG-Pro-2024</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Products Section -->
            <section id="products" class="customer-section">
                <div class="section-header">
                    <h2>Sản phẩm của tôi</h2>
                    <button class="btn btn-secondary" onclick="registerProduct()">
                        <i class="fas fa-plus"></i>
                        Đăng ký sản phẩm mới
                    </button>
                </div>
                
                <div class="products-grid">
                    <div class="product-card">
                        <div class="product-image">
                            <img src="product1.jpg" alt="Máy lọc nước">
                        </div>
                        <div class="product-info">
                            <h3>Nanogeyser Pro 2024</h3>
                            <p class="product-code">Mã: NG-Pro-2024-001234</p>
                            <p class="purchase-date">Ngày mua: 15/01/2023</p>
                            <div class="warranty-status">
                                <span class="status active">Còn bảo hành: 365 ngày</span>
                            </div>
                        </div>
                        <div class="product-actions">
                            <button class="btn btn-sm btn-primary" onclick="bookMaintenance('NG-Pro-2024-001234')">
                                Đặt lịch bảo dưỡng
                            </button>
                            <button class="btn btn-sm btn-secondary" onclick="viewProductDetails('NG-Pro-2024-001234')">
                                Xem chi tiết
                            </button>
                        </div>
                    </div>
                    
                    <div class="product-card">
                        <div class="product-image">
                            <img src="product2.jpg" alt="Máy lọc nước">
                        </div>
                        <div class="product-info">
                            <h3>Nanogeyser Basic 2023</h3>
                            <p class="product-code">Mã: NG-Basic-2023-005678</p>
                            <p class="purchase-date">Ngày mua: 10/06/2022</p>
                            <div class="warranty-status">
                                <span class="status warning">Còn bảo hành: 45 ngày</span>
                            </div>
                        </div>
                        <div class="product-actions">
                            <button class="btn btn-sm btn-primary" onclick="bookMaintenance('NG-Basic-2023-005678')">
                                Đặt lịch bảo dưỡng
                            </button>
                            <button class="btn btn-sm btn-secondary" onclick="viewProductDetails('NG-Basic-2023-005678')">
                                Xem chi tiết
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Bookings Section -->
            <section id="bookings" class="customer-section">
                <div class="section-header">
                    <h2>Lịch hẹn của tôi</h2>
                    <button class="btn btn-primary" onclick="newBooking()">
                        <i class="fas fa-plus"></i>
                        Đặt lịch mới
                    </button>
                </div>
                
                <div class="bookings-filter">
                    <button class="filter-btn active" data-filter="all">Tất cả</button>
                    <button class="filter-btn" data-filter="pending">Chờ xác nhận</button>
                    <button class="filter-btn" data-filter="confirmed">Đã xác nhận</button>
                    <button class="filter-btn" data-filter="completed">Hoàn thành</button>
                </div>
                
                <div class="bookings-list">
                    <div class="booking-item confirmed">
                        <div class="booking-date">
                            <span class="day">15</span>
                            <span class="month">Th1</span>
                            <span class="year">2024</span>
                        </div>
                        <div class="booking-info">
                            <h4>Bảo dưỡng định kỳ</h4>
                            <p>Sản phẩm: NG-Pro-2024-001234</p>
                            <p>Thời gian: 09:00 - 10:00</p>
                            <p>Kỹ thuật viên: Nguyễn Văn B</p>
                        </div>
                        <div class="booking-status">
                            <span class="status confirmed">Đã xác nhận</span>
                        </div>
                        <div class="booking-actions">
                            <button class="btn-icon" onclick="rescheduleBooking(1)">
                                <i class="fas fa-calendar-alt"></i>
                            </button>
                            <button class="btn-icon" onclick="cancelBooking(1)">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="booking-item pending">
                        <div class="booking-date">
                            <span class="day">20</span>
                            <span class="month">Th1</span>
                            <span class="year">2024</span>
                        </div>
                        <div class="booking-info">
                            <h4>Sửa chữa</h4>
                            <p>Sản phẩm: NG-Basic-2023-005678</p>
                            <p>Thời gian: 14:00 - 15:00</p>
                            <p>Vấn đề: Áp lực nước yếu</p>
                        </div>
                        <div class="booking-status">
                            <span class="status pending">Chờ xác nhận</span>
                        </div>
                        <div class="booking-actions">
                            <button class="btn-icon" onclick="editBooking(2)">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon" onclick="cancelBooking(2)">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Warranty Section -->
            <section id="warranty" class="customer-section">
                <div class="section-header">
                    <h2>Thông tin bảo hành</h2>
                    <button class="btn btn-secondary" onclick="checkWarranty()">
                        <i class="fas fa-search"></i>
                        Kiểm tra bảo hành
                    </button>
                </div>
                
                <div class="warranty-cards">
                    <div class="warranty-card active">
                        <div class="warranty-header">
                            <h3>NG-Pro-2024-001234</h3>
                            <span class="warranty-badge active">Còn hạn</span>
                        </div>
                        <div class="warranty-details">
                            <div class="warranty-item">
                                <span class="label">Ngày mua:</span>
                                <span class="value">15/01/2023</span>
                            </div>
                            <div class="warranty-item">
                                <span class="label">Hết hạn:</span>
                                <span class="value">15/01/2025</span>
                            </div>
                            <div class="warranty-item">
                                <span class="label">Còn lại:</span>
                                <span class="value">365 ngày</span>
                            </div>
                        </div>
                        <div class="warranty-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 50%"></div>
                            </div>
                            <span class="progress-text">50% thời gian bảo hành</span>
                        </div>
                    </div>
                    
                    <div class="warranty-card warning">
                        <div class="warranty-header">
                            <h3>NG-Basic-2023-005678</h3>
                            <span class="warranty-badge warning">Sắp hết hạn</span>
                        </div>
                        <div class="warranty-details">
                            <div class="warranty-item">
                                <span class="label">Ngày mua:</span>
                                <span class="value">10/06/2022</span>
                            </div>
                            <div class="warranty-item">
                                <span class="label">Hết hạn:</span>
                                <span class="value">10/06/2024</span>
                            </div>
                            <div class="warranty-item">
                                <span class="label">Còn lại:</span>
                                <span class="value">45 ngày</span>
                            </div>
                        </div>
                        <div class="warranty-progress">
                            <div class="progress-bar">
                                <div class="progress-fill warning" style="width: 90%"></div>
                            </div>
                            <span class="progress-text">90% thời gian bảo hành</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Profile Section -->
            <section id="profile" class="customer-section">
                <div class="section-header">
                    <h2>Thông tin cá nhân</h2>
                </div>
                
                <div class="profile-form">
                    <form id="profileForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Họ và tên</label>
                                <input type="text" value="Nguyễn Văn A" required>
                            </div>
                            <div class="form-group">
                                <label>Số điện thoại</label>
                                <input type="tel" value="0901234567" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" value="nguyenvana@email.com" required>
                            </div>
                            <div class="form-group">
                                <label>Ngày sinh</label>
                                <input type="date" value="1990-01-15">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Địa chỉ</label>
                            <textarea rows="3">123 Đường ABC, Phường XYZ, Quận 1, TP.HCM</textarea>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Cập nhật thông tin</button>
                            <button type="button" class="btn btn-secondary" onclick="changePassword()">Đổi mật khẩu</button>
                        </div>
                    </form>
                </div>
            </section>
        </main>
    </div>

    <!-- Quick Booking Modal -->
    <div id="quickBookingModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Đặt lịch nhanh</h3>
                <span class="close" onclick="closeModal('quickBookingModal')">&times;</span>
            </div>
            <form id="quickBookingForm">
                <div class="form-group">
                    <label>Chọn sản phẩm</label>
                    <select required>
                        <option value="">Chọn sản phẩm cần bảo dưỡng</option>
                        <option value="NG-Pro-2024-001234">NG-Pro-2024-001234</option>
                        <option value="NG-Basic-2023-005678">NG-Basic-2023-005678</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Loại dịch vụ</label>
                    <select required>
                        <option value="">Chọn dịch vụ</option>
                        <option value="maintenance">Bảo dưỡng định kỳ</option>
                        <option value="repair">Sửa chữa</option>
                        <option value="warranty">Bảo hành</option>
                    </select>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Ngày mong muốn</label>
                        <input type="date" required>
                    </div>
                    <div class="form-group">
                        <label>Giờ mong muốn</label>
                        <select required>
                            <option value="">Chọn giờ</option>
                            <option value="08:00">08:00 - 09:00</option>
                            <option value="09:00">09:00 - 10:00</option>
                            <option value="10:00">10:00 - 11:00</option>
                            <option value="14:00">14:00 - 15:00</option>
                            <option value="15:00">15:00 - 16:00</option>
                            <option value="16:00">16:00 - 17:00</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>Mô tả vấn đề (nếu có)</label>
                    <textarea rows="3" placeholder="Mô tả chi tiết vấn đề..."></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('quickBookingModal')">Hủy</button>
                    <button type="submit" class="btn btn-primary">Đặt lịch</button>
                </div>
            </form>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="data.js"></script>
    <script src="customer.js"></script>
</body>
</html>